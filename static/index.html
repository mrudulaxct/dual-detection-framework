<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dual Detection Framework</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <canvas id="particles"></canvas>
    <div class="cyber-grid"></div>

    <div class="dashboard">
        <header class="header">
            <div class="header-glow"></div>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-hexagon">
                        <span>üõ°Ô∏è</span>
                    </div>
                    <div class="logo-text">
                        <h1>DUAL DETECTION</h1>
                        <p>CYBER-PHYSICAL SECURITY</p>
                    </div>
                </div>
                <div class="status-indicators">
                    <div class="status-pill" id="systemStatus">
                        <div class="status-dot"></div>
                        <span>SYSTEM: NORMAL</span>
                    </div>
                    <div class="status-pill encryption">
                        <div class="status-dot"></div>
                        <span>ENCRYPTED</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="content-grid">
            <div class="panel system-panel">
                <div class="panel-header">
                    <span class="panel-icon">üìä</span>
                    <h2>SYSTEM MONITOR</h2>
                    <div class="header-line"></div>
                </div>
                <div class="panel-body">
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon">üì°</div>
                            <div class="metric-data">
                                <span class="metric-label">OUTPUT</span>
                                <span class="metric-value" id="outputValue">0.000</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">‚öôÔ∏è</div>
                            <div class="metric-data">
                                <span class="metric-label">CONTROL U‚ÇÅ</span>
                                <span class="metric-value" id="control1Value">0.000</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">‚öôÔ∏è</div>
                            <div class="metric-data">
                                <span class="metric-label">CONTROL U‚ÇÇ</span>
                                <span class="metric-value" id="control2Value">0.000</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üéØ</div>
                            <div class="metric-data">
                                <span class="metric-label">REFERENCE</span>
                                <span class="metric-value" id="referenceValue">0.000</span>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="systemChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="panel detectors-panel">
                <div class="panel-header">
                    <span class="panel-icon">üîç</span>
                    <h2>DUAL DETECTORS</h2>
                    <div class="header-line"></div>
                </div>
                <div class="panel-body">
                    <div class="detector detector-1" id="faultDetectorCard">
                        <div class="detector-border"></div>
                        <div class="detector-glow"></div>
                        <div class="detector-header">
                            <div class="detector-badge">D1</div>
                            <div class="detector-info">
                                <h3>FAULT DETECTION</h3>
                                <p>Controller-Side œá¬≤ Test</p>
                            </div>
                            <div class="detector-status" id="faultDetectorStatus">
                                <div class="status-orb"></div>
                                <span>NORMAL</span>
                            </div>
                        </div>
                        <div class="detector-stats">
                            <div class="stat-box">
                                <span class="stat-label">STATISTIC</span>
                                <span class="stat-value" id="faultStatistic">0.00</span>
                            </div>
                            <div class="stat-divider"></div>
                            <div class="stat-box">
                                <span class="stat-label">THRESHOLD</span>
                                <span class="stat-value" id="faultThreshold">6.63</span>
                            </div>
                        </div>
                        <div class="detector-chart">
                            <canvas id="faultChart"></canvas>
                        </div>
                    </div>

                    <div class="detector detector-2" id="attackDetectorCard">
                        <div class="detector-border"></div>
                        <div class="detector-glow"></div>
                        <div class="detector-header">
                            <div class="detector-badge">D2</div>
                            <div class="detector-info">
                                <h3>ATTACK DETECTION</h3>
                                <p>Plant-Side Kernel Monitor</p>
                            </div>
                            <div class="detector-status" id="attackDetectorStatus">
                                <div class="status-orb"></div>
                                <span>NORMAL</span>
                            </div>
                        </div>
                        <div class="detector-stats">
                            <div class="stat-box">
                                <span class="stat-label">STATISTIC</span>
                                <span class="stat-value" id="attackStatistic">0.00</span>
                            </div>
                            <div class="stat-divider"></div>
                            <div class="stat-box">
                                <span class="stat-label">THRESHOLD</span>
                                <span class="stat-value" id="attackThreshold">9.21</span>
                            </div>
                        </div>
                        <div class="detector-chart">
                            <canvas id="attackChart"></canvas>
                        </div>
                    </div>

                    <div class="classification-panel" id="classificationPanel">
                        <div class="classification-icon">üéØ</div>
                        <div class="classification-content">
                            <h3>CLASSIFICATION</h3>
                            <div class="classification-badge" id="anomalyResult">NORMAL</div>
                            <p id="anomalyDescription">System operating normally</p>
                        </div>
                        <div class="classification-pulse"></div>
                    </div>
                </div>
            </div>

            <div class="panel control-panel">
                <div class="panel-header">
                    <span class="panel-icon">‚öôÔ∏è</span>
                    <h2>CONTROL CENTER</h2>
                    <div class="header-line"></div>
                </div>
                <div class="panel-body">
                    <div class="control-section">
                        <div class="control-title">
                            <span>üéØ</span>
                            <h4>REFERENCE INPUT</h4>
                        </div>
                        <div class="slider-wrapper">
                            <input type="range" id="referenceSlider" min="-2" max="2" step="0.1" value="0" class="cyber-slider">
                            <div class="slider-track"></div>
                            <div class="slider-fill"></div>
                            <div class="slider-value" id="referenceLabel">0.0</div>
                        </div>
                        <button class="cyber-button primary" onclick="setReference()">
                            <span class="button-bg"></span>
                            <span class="button-text">SET REFERENCE</span>
                        </button>
                    </div>

                    <div class="control-section">
                        <div class="control-title">
                            <span>‚ö†Ô∏è</span>
                            <h4>FAULT INJECTION</h4>
                        </div>
                        <select id="faultType" class="cyber-select">
                            <option value="plant">üîß Plant Fault</option>
                            <option value="sensor">üì° Sensor Fault</option>
                            <option value="actuator">‚öôÔ∏è Actuator Fault</option>
                        </select>
                        <div class="slider-wrapper">
                            <label>MAGNITUDE</label>
                            <input type="range" id="faultMagnitude" min="0" max="2" step="0.1" value="0.5" class="cyber-slider">
                            <div class="slider-track"></div>
                            <div class="slider-fill"></div>
                            <div class="slider-value" id="faultMagLabel">0.5</div>
                        </div>
                        <button class="cyber-button danger" onclick="injectFault()">
                            <span class="button-bg"></span>
                            <span class="button-text">INJECT FAULT</span>
                        </button>
                    </div>

                    <div class="control-section">
                        <div class="control-title">
                            <span>üé≠</span>
                            <h4>ATTACK INJECTION</h4>
                        </div>
                        <select id="attackType" class="cyber-select">
                            <option value="covert">üïµÔ∏è Covert Attack</option>
                            <option value="zero_dynamics">üéØ Zero-Dynamics</option>
                            <option value="replay">üîÑ Replay Attack</option>
                        </select>
                        <div class="slider-wrapper">
                            <label>MAGNITUDE</label>
                            <input type="range" id="attackMagnitude" min="0" max="2" step="0.1" value="0.5" class="cyber-slider">
                            <div class="slider-track"></div>
                            <div class="slider-fill"></div>
                            <div class="slider-value" id="attackMagLabel">0.5</div>
                        </div>
                        <button class="cyber-button warning" onclick="injectAttack()">
                            <span class="button-bg"></span>
                            <span class="button-text">INJECT ATTACK</span>
                        </button>
                    </div>

                    <button class="cyber-button success full" onclick="clearAnomalies()">
                        <span class="button-bg"></span>
                        <span class="button-text">üîÑ CLEAR ALL</span>
                    </button>

                    <div class="network-stats">
                        <h4>NETWORK STATS</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-name">Packets</span>
                                <span class="stat-num" id="packetsSent">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-name">Encrypted</span>
                                <span class="stat-num" id="packetsEncrypted">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-name">Attacked</span>
                                <span class="stat-num" id="packetsAttacked">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>